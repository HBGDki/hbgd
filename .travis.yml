# Sample .travis.yml for R projects

language: r
warnings_are_errors: true
sudo: required
cache: packages

r_check_args: "--as-cran --run-donttest"

repos:
  CRAN: http://cran.rstudio.com
  Tessera: http://packages.tessera.io


# install locally to avoid rev dep
r_github_packages:
  - jimhester/covr # code coverage check
  - jimhester/lintr # code lint

after_success:
  - rm -r ./tests/testthat/test_cache
  - Rscript -e 'covr::codecov()'

notifications:
  email:
    on_success: change
    on_failure: change
